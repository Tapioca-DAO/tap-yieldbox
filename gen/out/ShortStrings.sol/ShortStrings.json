{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122007d640bdb6256711868ef7f637efb68187f556c4e736367eaa63f859afd8ff5664736f6c63430008160033","sourceMap":"1235:3050:68:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;1235:3050:68;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122007d640bdb6256711868ef7f637efb68187f556c4e736367eaa63f859afd8ff5664736f6c63430008160033","sourceMap":"1235:3050:68:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@boringcrypto/=node_modules/@boringcrypto/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@prb/=node_modules/@prb/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":prb-math/=node_modules/prb-math/\",\":yieldbox/=contracts/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0xc0e310c163edf15db45d4ff938113ab357f94fa86e61ea8e790853c4d2e13256\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04db5bc05dcb05ba1f6ca2dfbead17adc8a2e2f911aa80b05e7a36d9eaf96516\",\"dweb:/ipfs/QmVkfHZbXVBUPsTopueCn3qGJX8aEjahFF3Fn4NcygLNm5\"]},\"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xf09e68aa0dc6722a25bc46490e8d48ed864466d17313b8a0b254c36b54e49899\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e26daf81e2252dc1fe1ce0e4b55c2eb7c6d1ee84ae6558d1a9554432ea1d32da\",\"dweb:/ipfs/Qmb1UANWiWq5pCKbmHSu772hd4nt374dVaghGmwSVNuk8Q\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.22+commit.4fc1097e"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@boringcrypto/=node_modules/@boringcrypto/","@openzeppelin/=node_modules/@openzeppelin/","@prb/=node_modules/@prb/","eth-gas-reporter/=node_modules/eth-gas-reporter/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","prb-math/=node_modules/prb-math/","yieldbox/=contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"paris","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":{"keccak256":"0xc0e310c163edf15db45d4ff938113ab357f94fa86e61ea8e790853c4d2e13256","urls":["bzz-raw://04db5bc05dcb05ba1f6ca2dfbead17adc8a2e2f911aa80b05e7a36d9eaf96516","dweb:/ipfs/QmVkfHZbXVBUPsTopueCn3qGJX8aEjahFF3Fn4NcygLNm5"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol":{"keccak256":"0xf09e68aa0dc6722a25bc46490e8d48ed864466d17313b8a0b254c36b54e49899","urls":["bzz-raw://e26daf81e2252dc1fe1ce0e4b55c2eb7c6d1ee84ae6558d1a9554432ea1d32da","dweb:/ipfs/Qmb1UANWiWq5pCKbmHSu772hd4nt374dVaghGmwSVNuk8Q"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol","id":15194,"exportedSymbols":{"ShortString":[14982],"ShortStrings":[15193],"StorageSlot":[15303]},"nodeType":"SourceUnit","src":"106:4180:68","nodes":[{"id":14979,"nodeType":"PragmaDirective","src":"106:23:68","nodes":[],"literals":["solidity","^","0.8",".8"]},{"id":14980,"nodeType":"ImportDirective","src":"131:27:68","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":15194,"sourceUnit":15304,"symbolAliases":[],"unitAlias":""},{"id":14982,"nodeType":"UserDefinedValueTypeDefinition","src":"328:28:68","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"333:11:68","underlyingType":{"id":14981,"name":"bytes32","nodeType":"ElementaryTypeName","src":"348:7:68","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":15193,"nodeType":"ContractDefinition","src":"1235:3050:68","nodes":[{"id":14986,"nodeType":"VariableDeclaration","src":"1325:112:68","nodes":[],"constant":true,"mutability":"constant","name":"_FALLBACK_SENTINEL","nameLocation":"1350:18:68","scope":15193,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":14984,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1325:7:68","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":14985,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1371:66:68","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":14990,"nodeType":"ErrorDefinition","src":"1444:32:68","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1450:13:68","parameters":{"id":14989,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14988,"mutability":"mutable","name":"str","nameLocation":"1471:3:68","nodeType":"VariableDeclaration","scope":14990,"src":"1464:10:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":14987,"name":"string","nodeType":"ElementaryTypeName","src":"1464:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1463:12:68"}},{"id":14992,"nodeType":"ErrorDefinition","src":"1481:27:68","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1487:18:68","parameters":{"id":14991,"nodeType":"ParameterList","parameters":[],"src":"1505:2:68"}},{"id":15036,"nodeType":"FunctionDefinition","src":"1689:286:68","nodes":[],"body":{"id":15035,"nodeType":"Block","src":"1767:208:68","nodes":[],"statements":[{"assignments":[15002],"declarations":[{"constant":false,"id":15002,"mutability":"mutable","name":"bstr","nameLocation":"1790:4:68","nodeType":"VariableDeclaration","scope":15035,"src":"1777:17:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":15001,"name":"bytes","nodeType":"ElementaryTypeName","src":"1777:5:68","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":15007,"initialValue":{"arguments":[{"id":15005,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14995,"src":"1803:3:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":15004,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1797:5:68","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":15003,"name":"bytes","nodeType":"ElementaryTypeName","src":"1797:5:68","typeDescriptions":{}}},"id":15006,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1797:10:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1777:30:68"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15008,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15002,"src":"1821:4:68","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":15009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1826:6:68","memberName":"length","nodeType":"MemberAccess","src":"1821:11:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":15010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1835:2:68","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1821:16:68","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15017,"nodeType":"IfStatement","src":"1817:72:68","trueBody":{"id":15016,"nodeType":"Block","src":"1839:50:68","statements":[{"errorCall":{"arguments":[{"id":15013,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14995,"src":"1874:3:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":15012,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14990,"src":"1860:13:68","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":15014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1860:18:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15015,"nodeType":"RevertStatement","src":"1853:25:68"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":15026,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15002,"src":"1946:4:68","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":15025,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1938:7:68","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":15024,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1938:7:68","typeDescriptions":{}}},"id":15027,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1938:13:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":15023,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1930:7:68","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15022,"name":"uint256","nodeType":"ElementaryTypeName","src":"1930:7:68","typeDescriptions":{}}},"id":15028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1930:22:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":15029,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15002,"src":"1955:4:68","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":15030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1960:6:68","memberName":"length","nodeType":"MemberAccess","src":"1955:11:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1930:36:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15021,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1922:7:68","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":15020,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1922:7:68","typeDescriptions":{}}},"id":15032,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1922:45:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":15018,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14982,"src":"1905:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"type(ShortString)"}},"id":15019,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1917:4:68","memberName":"wrap","nodeType":"MemberAccess","src":"1905:16:68","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":15033,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1905:63:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"functionReturnParameters":15000,"id":15034,"nodeType":"Return","src":"1898:70:68"}]},"documentation":{"id":14993,"nodeType":"StructuredDocumentation","src":"1514:170:68","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1698:13:68","parameters":{"id":14996,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14995,"mutability":"mutable","name":"str","nameLocation":"1726:3:68","nodeType":"VariableDeclaration","scope":15036,"src":"1712:17:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":14994,"name":"string","nodeType":"ElementaryTypeName","src":"1712:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1711:19:68"},"returnParameters":{"id":15000,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14999,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15036,"src":"1754:11:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":14998,"nodeType":"UserDefinedTypeName","pathNode":{"id":14997,"name":"ShortString","nameLocations":["1754:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"1754:11:68"},"referencedDeclaration":14982,"src":"1754:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"}],"src":"1753:13:68"},"scope":15193,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15062,"nodeType":"FunctionDefinition","src":"2059:405:68","nodes":[],"body":{"id":15061,"nodeType":"Block","src":"2133:331:68","nodes":[],"statements":[{"assignments":[15046],"declarations":[{"constant":false,"id":15046,"mutability":"mutable","name":"len","nameLocation":"2151:3:68","nodeType":"VariableDeclaration","scope":15061,"src":"2143:11:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15045,"name":"uint256","nodeType":"ElementaryTypeName","src":"2143:7:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15050,"initialValue":{"arguments":[{"id":15048,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15040,"src":"2168:4:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"id":15047,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15094,"src":"2157:10:68","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":15049,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2157:16:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2143:30:68"},{"assignments":[15052],"declarations":[{"constant":false,"id":15052,"mutability":"mutable","name":"str","nameLocation":"2275:3:68","nodeType":"VariableDeclaration","scope":15061,"src":"2261:17:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":15051,"name":"string","nodeType":"ElementaryTypeName","src":"2261:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":15057,"initialValue":{"arguments":[{"hexValue":"3332","id":15055,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2292:2:68","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":15054,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2281:10:68","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":15053,"name":"string","nodeType":"ElementaryTypeName","src":"2285:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":15056,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2281:14:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2261:34:68"},{"AST":{"nativeSrc":"2357:81:68","nodeType":"YulBlock","src":"2357:81:68","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2378:3:68","nodeType":"YulIdentifier","src":"2378:3:68"},{"name":"len","nativeSrc":"2383:3:68","nodeType":"YulIdentifier","src":"2383:3:68"}],"functionName":{"name":"mstore","nativeSrc":"2371:6:68","nodeType":"YulIdentifier","src":"2371:6:68"},"nativeSrc":"2371:16:68","nodeType":"YulFunctionCall","src":"2371:16:68"},"nativeSrc":"2371:16:68","nodeType":"YulExpressionStatement","src":"2371:16:68"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2411:3:68","nodeType":"YulIdentifier","src":"2411:3:68"},{"kind":"number","nativeSrc":"2416:4:68","nodeType":"YulLiteral","src":"2416:4:68","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2407:3:68","nodeType":"YulIdentifier","src":"2407:3:68"},"nativeSrc":"2407:14:68","nodeType":"YulFunctionCall","src":"2407:14:68"},{"name":"sstr","nativeSrc":"2423:4:68","nodeType":"YulIdentifier","src":"2423:4:68"}],"functionName":{"name":"mstore","nativeSrc":"2400:6:68","nodeType":"YulIdentifier","src":"2400:6:68"},"nativeSrc":"2400:28:68","nodeType":"YulFunctionCall","src":"2400:28:68"},"nativeSrc":"2400:28:68","nodeType":"YulExpressionStatement","src":"2400:28:68"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"paris","externalReferences":[{"declaration":15046,"isOffset":false,"isSlot":false,"src":"2383:3:68","valueSize":1},{"declaration":15040,"isOffset":false,"isSlot":false,"src":"2423:4:68","valueSize":1},{"declaration":15052,"isOffset":false,"isSlot":false,"src":"2378:3:68","valueSize":1},{"declaration":15052,"isOffset":false,"isSlot":false,"src":"2411:3:68","valueSize":1}],"id":15058,"nodeType":"InlineAssembly","src":"2348:90:68"},{"expression":{"id":15059,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15052,"src":"2454:3:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":15044,"id":15060,"nodeType":"Return","src":"2447:10:68"}]},"documentation":{"id":15037,"nodeType":"StructuredDocumentation","src":"1981:73:68","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2068:8:68","parameters":{"id":15041,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15040,"mutability":"mutable","name":"sstr","nameLocation":"2089:4:68","nodeType":"VariableDeclaration","scope":15062,"src":"2077:16:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":15039,"nodeType":"UserDefinedTypeName","pathNode":{"id":15038,"name":"ShortString","nameLocations":["2077:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"2077:11:68"},"referencedDeclaration":14982,"src":"2077:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"}],"src":"2076:18:68"},"returnParameters":{"id":15044,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15043,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15062,"src":"2118:13:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":15042,"name":"string","nodeType":"ElementaryTypeName","src":"2118:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2117:15:68"},"scope":15193,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15094,"nodeType":"FunctionDefinition","src":"2536:245:68","nodes":[],"body":{"id":15093,"nodeType":"Block","src":"2606:175:68","nodes":[],"statements":[{"assignments":[15072],"declarations":[{"constant":false,"id":15072,"mutability":"mutable","name":"result","nameLocation":"2624:6:68","nodeType":"VariableDeclaration","scope":15093,"src":"2616:14:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15071,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15082,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15081,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":15077,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15066,"src":"2660:4:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"expression":{"id":15075,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14982,"src":"2641:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"type(ShortString)"}},"id":15076,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2653:6:68","memberName":"unwrap","nodeType":"MemberAccess","src":"2641:18:68","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":15078,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2641:24:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":15074,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2633:7:68","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15073,"name":"uint256","nodeType":"ElementaryTypeName","src":"2633:7:68","typeDescriptions":{}}},"id":15079,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2633:33:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":15080,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2669:4:68","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2633:40:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2616:57:68"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15083,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15072,"src":"2687:6:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":15084,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2696:2:68","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2687:11:68","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15090,"nodeType":"IfStatement","src":"2683:69:68","trueBody":{"id":15089,"nodeType":"Block","src":"2700:52:68","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":15086,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14992,"src":"2721:18:68","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":15087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2721:20:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15088,"nodeType":"RevertStatement","src":"2714:27:68"}]}},{"expression":{"id":15091,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15072,"src":"2768:6:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15070,"id":15092,"nodeType":"Return","src":"2761:13:68"}]},"documentation":{"id":15063,"nodeType":"StructuredDocumentation","src":"2470:61:68","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2545:10:68","parameters":{"id":15067,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15066,"mutability":"mutable","name":"sstr","nameLocation":"2568:4:68","nodeType":"VariableDeclaration","scope":15094,"src":"2556:16:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":15065,"nodeType":"UserDefinedTypeName","pathNode":{"id":15064,"name":"ShortString","nameLocations":["2556:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"2556:11:68"},"referencedDeclaration":14982,"src":"2556:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"}],"src":"2555:18:68"},"returnParameters":{"id":15070,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15069,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15094,"src":"2597:7:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15068,"name":"uint256","nodeType":"ElementaryTypeName","src":"2597:7:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2596:9:68"},"scope":15193,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15134,"nodeType":"FunctionDefinition","src":"2895:341:68","nodes":[],"body":{"id":15133,"nodeType":"Block","src":"3004:232:68","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":15107,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15097,"src":"3024:5:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":15106,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3018:5:68","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":15105,"name":"bytes","nodeType":"ElementaryTypeName","src":"3018:5:68","typeDescriptions":{}}},"id":15108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3018:12:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":15109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3031:6:68","memberName":"length","nodeType":"MemberAccess","src":"3018:19:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":15110,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3040:2:68","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3018:24:68","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15131,"nodeType":"Block","src":"3102:128:68","statements":[{"expression":{"id":15124,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":15120,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15099,"src":"3142:5:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":15117,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15303,"src":"3116:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$15303_$","typeString":"type(library StorageSlot)"}},"id":15119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3128:13:68","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":15280,"src":"3116:25:68","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$15211_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":15121,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3116:32:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$15211_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":15122,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3149:5:68","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":15210,"src":"3116:38:68","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":15123,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15097,"src":"3157:5:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3116:46:68","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":15125,"nodeType":"ExpressionStatement","src":"3116:46:68"},{"expression":{"arguments":[{"id":15128,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14986,"src":"3200:18:68","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":15126,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14982,"src":"3183:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"type(ShortString)"}},"id":15127,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3195:4:68","memberName":"wrap","nodeType":"MemberAccess","src":"3183:16:68","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":15129,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3183:36:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"functionReturnParameters":15104,"id":15130,"nodeType":"Return","src":"3176:43:68"}]},"id":15132,"nodeType":"IfStatement","src":"3014:216:68","trueBody":{"id":15116,"nodeType":"Block","src":"3044:52:68","statements":[{"expression":{"arguments":[{"id":15113,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15097,"src":"3079:5:68","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":15112,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15036,"src":"3065:13:68","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":15114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3065:20:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"functionReturnParameters":15104,"id":15115,"nodeType":"Return","src":"3058:27:68"}]}}]},"documentation":{"id":15095,"nodeType":"StructuredDocumentation","src":"2787:103:68","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2904:25:68","parameters":{"id":15100,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15097,"mutability":"mutable","name":"value","nameLocation":"2944:5:68","nodeType":"VariableDeclaration","scope":15134,"src":"2930:19:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":15096,"name":"string","nodeType":"ElementaryTypeName","src":"2930:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":15099,"mutability":"mutable","name":"store","nameLocation":"2966:5:68","nodeType":"VariableDeclaration","scope":15134,"src":"2951:20:68","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":15098,"name":"string","nodeType":"ElementaryTypeName","src":"2951:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2929:43:68"},"returnParameters":{"id":15104,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15103,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15134,"src":"2991:11:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":15102,"nodeType":"UserDefinedTypeName","pathNode":{"id":15101,"name":"ShortString","nameLocations":["2991:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"2991:11:68"},"referencedDeclaration":14982,"src":"2991:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"}],"src":"2990:13:68"},"scope":15193,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":15161,"nodeType":"FunctionDefinition","src":"3367:268:68","nodes":[],"body":{"id":15160,"nodeType":"Block","src":"3476:159:68","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":15150,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":15147,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15138,"src":"3509:5:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"expression":{"id":15145,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14982,"src":"3490:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"type(ShortString)"}},"id":15146,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3502:6:68","memberName":"unwrap","nodeType":"MemberAccess","src":"3490:18:68","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":15148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3490:25:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":15149,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14986,"src":"3519:18:68","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3490:47:68","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15158,"nodeType":"Block","src":"3592:37:68","statements":[{"expression":{"id":15156,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15140,"src":"3613:5:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":15144,"id":15157,"nodeType":"Return","src":"3606:12:68"}]},"id":15159,"nodeType":"IfStatement","src":"3486:143:68","trueBody":{"id":15155,"nodeType":"Block","src":"3539:47:68","statements":[{"expression":{"arguments":[{"id":15152,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15138,"src":"3569:5:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"id":15151,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15062,"src":"3560:8:68","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":15153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3560:15:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":15144,"id":15154,"nodeType":"Return","src":"3553:22:68"}]}}]},"documentation":{"id":15135,"nodeType":"StructuredDocumentation","src":"3242:120:68","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3376:20:68","parameters":{"id":15141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15138,"mutability":"mutable","name":"value","nameLocation":"3409:5:68","nodeType":"VariableDeclaration","scope":15161,"src":"3397:17:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":15137,"nodeType":"UserDefinedTypeName","pathNode":{"id":15136,"name":"ShortString","nameLocations":["3397:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"3397:11:68"},"referencedDeclaration":14982,"src":"3397:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":15140,"mutability":"mutable","name":"store","nameLocation":"3431:5:68","nodeType":"VariableDeclaration","scope":15161,"src":"3416:20:68","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":15139,"name":"string","nodeType":"ElementaryTypeName","src":"3416:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3396:41:68"},"returnParameters":{"id":15144,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15143,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15161,"src":"3461:13:68","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":15142,"name":"string","nodeType":"ElementaryTypeName","src":"3461:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3460:15:68"},"scope":15193,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15192,"nodeType":"FunctionDefinition","src":"4003:280:68","nodes":[],"body":{"id":15191,"nodeType":"Block","src":"4108:175:68","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":15177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":15174,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15165,"src":"4141:5:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"expression":{"id":15172,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14982,"src":"4122:11:68","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$14982_$","typeString":"type(ShortString)"}},"id":15173,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4134:6:68","memberName":"unwrap","nodeType":"MemberAccess","src":"4122:18:68","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":15175,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4122:25:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":15176,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14986,"src":"4151:18:68","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4122:47:68","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15189,"nodeType":"Block","src":"4226:51:68","statements":[{"expression":{"expression":{"arguments":[{"id":15185,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15167,"src":"4253:5:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":15184,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4247:5:68","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":15183,"name":"bytes","nodeType":"ElementaryTypeName","src":"4247:5:68","typeDescriptions":{}}},"id":15186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4247:12:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":15187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4260:6:68","memberName":"length","nodeType":"MemberAccess","src":"4247:19:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15171,"id":15188,"nodeType":"Return","src":"4240:26:68"}]},"id":15190,"nodeType":"IfStatement","src":"4118:159:68","trueBody":{"id":15182,"nodeType":"Block","src":"4171:49:68","statements":[{"expression":{"arguments":[{"id":15179,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15165,"src":"4203:5:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}],"id":15178,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15094,"src":"4192:10:68","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$14982_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":15180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4192:17:68","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15171,"id":15181,"nodeType":"Return","src":"4185:24:68"}]}}]},"documentation":{"id":15162,"nodeType":"StructuredDocumentation","src":"3641:357:68","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4012:22:68","parameters":{"id":15168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15165,"mutability":"mutable","name":"value","nameLocation":"4047:5:68","nodeType":"VariableDeclaration","scope":15192,"src":"4035:17:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"},"typeName":{"id":15164,"nodeType":"UserDefinedTypeName","pathNode":{"id":15163,"name":"ShortString","nameLocations":["4035:11:68"],"nodeType":"IdentifierPath","referencedDeclaration":14982,"src":"4035:11:68"},"referencedDeclaration":14982,"src":"4035:11:68","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$14982","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":15167,"mutability":"mutable","name":"store","nameLocation":"4069:5:68","nodeType":"VariableDeclaration","scope":15192,"src":"4054:20:68","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":15166,"name":"string","nodeType":"ElementaryTypeName","src":"4054:6:68","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4034:41:68"},"returnParameters":{"id":15171,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15170,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15192,"src":"4099:7:68","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15169,"name":"uint256","nodeType":"ElementaryTypeName","src":"4099:7:68","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4098:9:68"},"scope":15193,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":14983,"nodeType":"StructuredDocumentation","src":"358:876:68","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[15193],"name":"ShortStrings","nameLocation":"1243:12:68","scope":15194,"usedErrors":[14990,14992],"usedEvents":[]}],"license":"MIT"},"id":68}